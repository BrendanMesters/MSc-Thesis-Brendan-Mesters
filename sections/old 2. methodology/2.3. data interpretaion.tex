\section{Data Interpretation}
\label{section: methodology - data interpretation}

\textbf{¡¡¡¡ The explanation is quite difficult to follow currently, think up specific terms and meanings, in order to make the explanation more clear!!!}\\
Things to get a specific term for
\begin{itemize}
    \item MEB center
    \item MEB radius
    \item MEB circle (for reasoning)
    \item specific arm zones, e.g. left low; left mid; left high; right low...
    \item angle ranges
\end{itemize}

The data interpretation method is often tightly linked to the data enhancement method used, as we will use the extra context provided by the data enhancement in the interpretation.
In the case of IAmMuse's final system, the extra context we've been given is the MEB, providing us with a rough center point of the user, as well as an estimation of the outer reach of their arms.
% simplify to 2d explained
During the design and explanation of the interpretation algorithm, we will often simplify the user's points to be on a plane, rather than in 3d space. 
The MEB would then likewise be considered to be a circle, with the center still at the user's sternum, and the edge tracing the path the user's hands can trace (assuming outstretched arms).
This estimation makes the reasoning a lot more intuitive. At the end of the section, we will also briefly touch on why this reasoning also extends to our actual system, which does operate in 3d space, rather than 2d space.
% continue
The main idea which is used in the interpretation of the data is that the angle of the arm is very closely modeled by looking at the angle between the sternum and a user's hand.
The sternum position is already known to be roughly at the center of the MEB, and the user's hands are known to be roughly at the edge of the MEB circle.
This transforms our problem of "find the angle of the arms" to "find the position of the hands, on our circle", which turns out to be a lot simpler.

To find the angle of the arms, a few things need to be done: points that belong to the hand should be specified, these points should be placed on the MEB circle, the angles between these points and the MEB center should be calculated, and this set of angles should be transformed into a hand/arm angle prediction.
The first step is done in a somewhat different way, we know that the points at the circle edge tell us a lot of things about the position of the hands, and the further away a point is from that circle edge, the less we trust the information. 
Since your arm position tells you something of where the hand is, but your torso won't tell you anything.
For this reason, each point is given a \textit{weight}, dependent on its distance to the circle edge.
In practice, this is achieved by taking the distance between a point and the MEB center, and applying the Gaussian function to this distance, where $\mu$ is the radius of the MEB, $\sigma^2$ is taken to be $0.25$, and x is the previously mentioned distance.
The output of this function is used as a weight of the point, which is representative of "how hand-like" the point is.
Calculating the angle for each point is a trivial trigonometric function, and will leave us with a set of angles with weights.

The last part of the interpretation is turning this list of angels and weights into two final arm positions, one for the right arm and one for the left arm.
In this thesis, we do not care about the exact arm position, rather, we care about the "region" where the arm currently is.
This region is specified as being "low", "middle", or "high", which are simply ranges of angles in which the arm can be.
The fact that the system is expected to generate an output region can be used in the interpretation.
To find out the likelihood of an arm being present in a specific region, you can look at the "weight" of said region, where a region's weight is the sum of the weights of all points (angles) that exist in that region.
In this manner, a frame-specific prediction for the arm location can be generated by selecting the zone with the highest weight on each side (left, right).
One problem with this approach is that the output is very unstable.

A few methods are used to stabilize the output of the arm location predictions.\\
Firstly, the arm position (low, mid, high) that is currently selected will increase the angle range that it considers "its region" by 5\deg on each side. 
e.g. the middle zone usually considers points "in its zone" when their angle is between 65\deg and 105\deg, but if the middle zone is already selected, it will now consider angles between 60\deg and 110\deg, this region increase will shrink the other regions.
This system avoids the situations where a user's arm is "on the edge" of two zones and rapidly changes which zone is predicted while the user keeps their arm still.\\
Secondly, there is a certain threshold weight that a zone needs to achieve in order to be considered as a "valid zone contender", this makes sure that very sparse frames can not trigger a faulty zone change based on only a few points.\\
Lastly, a specific zone is only selected as the actual zone if it was predicted to be the correct zone twice in a row.
Note that some frames may not have any predictions at all if none of the zones crossed the weight threshold, in this case, no prediction was made, thus it does not impede a zone from being chosen twice.
e.g. \textit{frame n}, zone left low is selected. \textit{frame n+1} no zone is selected. \textit{frame n + 2} zone left low is selected.
In this situation, \textit{left low} has been selected twice in a row, thus, the zone gets set to left low.

Earlier in the section, it was stated that we could reason about the minimal enclosing ball as if it were a circle, the reasons for this assumption will be given here.
First off, during the usage of the system, the user is expected to stand facing the FMCW, with their arms out to the side, lifting or lowering them.
In this situation, the pointcloud produced by the user falls roughly in a plane where we simply ignore the y direction, thus, for the points belonging to the user, the simplification to a circle is valid.
Furthermore, the number of noise points that still exist in this part of the pipeline is small, and given the spatial distribution observed from these points, the likelihood of one of these points being present near the edge of the ball but in front of or behind the user is very slim.
Therefore, only outlier points will ever appear near the edge of the ball while not being well modeled by the circle.
Points that are at a large distance from the edge of the ball will be disregarded automatically by being assigned a low weight, as the distance between the centroid and the specific point can be (and is) calculated in 3d.
Due to the above given reasons, there is no feasible situation in which the assumption (for reasoning purposes) of a circle does not apply accurately to our actual ball.
Lastly, it's important to mention how we get the "angle" between two points now, given that we are not actually using 2d coordinates in the system.
The angle of the arm is considered to be the angle between the down vector and the vector that goes from the MEB circle to the point in question.
This has the added benefit that users are allowed to hold their arms at a somewhat forward angle if this is more comfortable for them, and the calculation still hold true in the same maner.



% This section describes HOW we do the data interpretation, given the different systems described above, specifically the minimal enclosing ball.
% This includes the general high-level overview of the system, including zones on the MEB, filtering, and processing.
% It will also discuss different smaller systems, such as the active zone size increasing code, the stabilization code, which requires a zone to be selected more often, and will discuss the concept of "weight" in the various system contexts.
% 
% \textbf{We use a ball, not a circle, explain}